<?xml version="1.0" encoding="UTF-8"?>

<?import fr.blazanome.routeplanner.view.MapView?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import java.net.URL?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="fr.blazanome.routeplanner.view.GraphicalView">

    <stylesheets>
        <URL value="@style.css" />
    </stylesheets>


    <left>

        <VBox styleClass="left">

            <!-- Load and controls -->
            <HBox styleClass="group">
                <VBox>
                    <Text text="Map"/>
                    <HBox>
                        <Button text="Load a map" onAction="#loadMap"/>
                    </HBox>
                    <Text text="Session"/>
                    <HBox>
                        <Button text="Load a session" fx:id="loadSessionButton" onAction="#loadSession" disable="true"/>
                        <Button text="Save the session" fx:id="saveSessionButton" onAction="#saveSession" disable="true"/>
                    </HBox>
                    <Text text="Controls"/>
                    <HBox>
                        <Button text="Undo" onAction="#undo" fx:id="undoButton" disable="true"/>
                        <Button text="Redo" onAction="#redo" fx:id="redoButton" disable="true"/>
                    </HBox>
                </VBox>
            </HBox>

            <!-- Courier -->
            <VBox styleClass="group">
                <Text text="Courier"/>
                <HBox>
                    <ComboBox fx:id="selectedCourier" onAction="#selectCourier"/>
                    <Button text="+" disable="true" fx:id="addCourierButton" onAction="#addCourier"/>
                    <Button text="-" disable="true" fx:id="removeCourierButton" onAction="#removeCourier"/>
                </HBox>
                <CheckBox text="Show this courier only" fx:id="oneCourier" onAction="#setOnlyOneCourier"/>
                <TabPane>
                    <Tab closable="false" text="Request">
                        <VBox styleClass="group">
                            <TableView fx:id="deliveriesTable">
                                <columns>
                                    <TableColumn text="Longitude">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="latitude"/>
                                        </cellValueFactory>
                                    </TableColumn>
                                    <TableColumn text="Latitude">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="latitude"/>
                                        </cellValueFactory>
                                    </TableColumn>
                                    <TableColumn text="Timeframe">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="timeframeLabel"/>
                                        </cellValueFactory>
                                    </TableColumn>
                                </columns>
                            </TableView>
                        </VBox>
                    </Tab>
                    <Tab closable="false" text="Planning">
                        
                        <VBox styleClass="group">
                            <TableView fx:id="planningTable">
                                <columns>
                                    <TableColumn text="Longitude">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="latitude"/>
                                        </cellValueFactory>
                                    </TableColumn>
                                    <TableColumn text="Latitude">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="latitude"/>
                                        </cellValueFactory>
                                    </TableColumn>
                                    <TableColumn text="Arrival time">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="deliveryTime"/>
                                        </cellValueFactory>
                                    </TableColumn>
                                    <TableColumn text="Departure time">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="departureTime"/>
                                        </cellValueFactory>
                                    </TableColumn>
                                </columns>
                            </TableView>
                        </VBox>
                    </Tab>
                </TabPane>
                <Button fx:id="removeDeliveryButton" onAction="#removeDelivery" text="Remove delivery" disable="true"/>
            </VBox>

            <!-- New delivery -->
            <VBox styleClass="group">
                <Text text="New delivery"/>
                <GridPane hgap="10">
                    <Text text="At" GridPane.rowIndex="1"/>
                    <ComboBox fx:id="timeframe" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                </GridPane>
                <Button text="Add a delivery request" fx:id="addDeliveryButton" onAction="#addDelivery" disable="true"/>
            </VBox>

        </VBox>
    </left>

    <center>
        <MapView fx:id="mapView" onAction="#selectIntersection"/>
    </center>

</BorderPane>
