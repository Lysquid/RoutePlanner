<?xml version="1.0" encoding="UTF-8"?>

<?import fr.blazanome.routeplanner.view.MapView?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import java.net.URL?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="fr.blazanome.routeplanner.view.GraphicalView">

    <stylesheets>
        <URL value="@style.css" />
    </stylesheets>


    <left>

        <VBox styleClass="left">

            <!-- Load Map -->
            <HBox styleClass="group">
                <Button text="Load a map" onAction="#loadMap"/>
            </HBox>

            <!-- Controls -->
            <HBox styleClass="group">
                <Button text="Undo" onAction="#undo"/>
                <Button text="Redo" onAction="#redo"/>
                <Button text="Load"/>
                <Button text="Save"/>
            </HBox>

            <!-- Couriers -->
            <VBox styleClass="group">
                <TextFlow>
                    <Text text="Number of couriers : "/>
                    <Text text="0" fx:id="countCouriers"/>
                </TextFlow>
                <HBox>
                    <Button text="Add" onAction="#addCourier"/>
                    <Button text="Remove" onAction="#removeCourier"/>
                </HBox>
            </VBox>

            <!-- Courier -->
            <VBox styleClass="group">
                <Text text="Courier tour"/>
                <ComboBox fx:id="selectedCourier" onAction="#selectCourier"/>
                <TabPane>
                    <Tab closable="false" text="Request">
                        <VBox styleClass="group">
                            <TableView fx:id="deliveriesTable">
                                <columns>
                                    <TableColumn text="Longitude">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="latitude"/>
                                        </cellValueFactory>
                                    </TableColumn>
                                    <TableColumn text="Latitude">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="latitude"/>
                                        </cellValueFactory>
                                    </TableColumn>
                                    <TableColumn text="Timeframe">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="timeframeLabel"/>
                                        </cellValueFactory>
                                    </TableColumn>
                                </columns>
                            </TableView>
                            <Text text="New delivery"/>
                            <GridPane hgap="10" vgap="10">
                                <Text text="At" GridPane.rowIndex="1"/>
                                <ComboBox fx:id="timeframe" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                                <Text text="To" GridPane.rowIndex="2"/>
                                <Label fx:id="deliveryIntersection" text="coords" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                            </GridPane>
                            <Button text="Add delivery" fx:id="addDelivery" disable="true" onAction="#addDelivery"/>
                        </VBox>
                    </Tab>
                    <Tab closable="false" text="Planning">
                        
                        <VBox styleClass="group">
                            <TableView fx:id="planningTable">
                                <columns>
                                    <TableColumn text="Longitude">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="latitude"/>
                                        </cellValueFactory>
                                    </TableColumn>
                                    <TableColumn text="Latitude">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="latitude"/>
                                        </cellValueFactory>
                                    </TableColumn>
                                    <TableColumn text="Time">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="deliveryTime"/>
                                        </cellValueFactory>
                                    </TableColumn>
                                </columns>
                            </TableView>
                        </VBox>
                    </Tab>
                </TabPane>

            </VBox>

        </VBox>
    </left>

    <center>
        <MapView fx:id="mapView" onAction="#selectIntersection"/>
    </center>

</BorderPane>
